(self.webpackChunkblaze_forms=self.webpackChunkblaze_forms||[]).push([[573],{573:(e,t,o)=>{"use strict";o.r(t),o.d(t,{FormModule:()=>z});var i=o(8583),r=o(7310),s=o(9336),n=o(7716),l=o(2212);function d(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",8),n.TgZ(2,"div",9),n.TgZ(3,"div",10),n.TgZ(4,"button",11),n.NdJ("click",function(){return n.CHM(e),n.oxw().openEdit("forms")}),n._uU(5,"Add Form"),n.qZA(),n.TgZ(6,"div"),n._uU(7,"Or"),n.qZA(),n.TgZ(8,"div"),n.TgZ(9,"a",12),n._uU(10,"Copy Existing Form "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"div",9),n.TgZ(12,"div",10),n.TgZ(13,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().openEdit("Workflow")}),n._uU(14,"Add Workflow"),n.qZA(),n.TgZ(15,"div"),n._uU(16,"Or"),n.qZA(),n.TgZ(17,"div"),n.TgZ(18,"a",12),n._uU(19,"Copy Existing Workflow"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(20,"div",14),n.TgZ(21,"div",15),n.TgZ(22,"h6"),n._uU(23,"Choose from a template"),n.qZA(),n.qZA(),n.TgZ(24,"div",16),n.TgZ(25,"div",17),n.TgZ(26,"div",18),n.TgZ(27,"div",19),n._UZ(28,"img",20),n.TgZ(29,"div",21),n.TgZ(30,"b",22),n._uU(31,"Template Title"),n.qZA(),n.TgZ(32,"p",23),n._uU(33,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),n.qZA(),n.TgZ(34,"button",24),n._uU(35,"Use Template"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(36,"div",18),n.TgZ(37,"div",19),n._UZ(38,"img",20),n._UZ(39,"div",25),n.qZA(),n.qZA(),n.TgZ(40,"div",18),n.TgZ(41,"div",19),n._UZ(42,"img",20),n._UZ(43,"div",25),n.qZA(),n.qZA(),n.TgZ(44,"div",18),n.TgZ(45,"div",19),n._UZ(46,"img",20),n._UZ(47,"div",25),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}}let a=(()=>{class e{constructor(e){this.activeModal=e,this.openEditEvent=new n.vpe,this.viewFormsList=!1}ngOnChanges(){}ngOnInit(){console.log(this.formsList)}openEdit(e){this.activeModal.close(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.Kz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-add-form-modal"]],inputs:{formsList:"formsList"},outputs:{openEditEvent:"openEditEvent"},features:[n.TTD],decls:10,vars:1,consts:[["tabindex","-1","id","add-form-workflow-modal",1,""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"row","py-3"],[1,"col-md-6","d-flex","d-wrap","justify-content-center","align-content-center","py-5"],[1,"add-form-area","text-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-bf","btn-sm","mb-2",3,"click"],["href","#",1,""],["type","button",1,"btn","btn-bf","btn-sm","mb-2",3,"click"],[1,"choose-template-area","row","border-top","pt-3"],[1,"col-md-12","text-center"],[1,"col-md-12","template-cards"],[1,"row","pt-3","g-2"],[1,"col-md-3"],[1,"card","text-center"],["src","../../../assets/images/form.png","alt","...",1,"card-img"],[1,"card-img-overlay","bg-bf-light"],[1,"card-title"],[1,"card-text","small","text-secondary"],["type","button",1,"btn","btn-bf","btn-sm"],[1,"card-img-overlay"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h5",3),n._uU(4,"New Form"),n.qZA(),n.TgZ(5,"button",4),n.TgZ(6,"span",5),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",6),n.YNc(9,d,48,0,"ng-container",7),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(9),n.Q6J("ngIf",!t.viewFormsList))},directives:[i.O5],styles:[""]}),e})();var c=o(3679);let m=(()=>{class e{constructor(){}ngOnInit(){console.log(this.folderList,this.type)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-edit-form-modal"]],inputs:{folderList:"folderList",type:"type",modalType:"modalType"},decls:47,vars:0,consts:[["tabindex","-1","id","edit-form-modal",1,""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row","my-4","px-4","form-group"],[1,"col-md-3"],["for","form-name"],[1,"col-md-7"],["type","text","id","form-name",1,"form-control"],["for","form-desc"],["id","form-desc","rows","5",1,"form-control"],["for","form-folder"],["id","form-folder",1,"form-control"],["selected",""],[1,"col-md-2","p-2"],[1,"material-icons-round"],["for","form-status"],[1,"custom-control","custom-switch"],["type","checkbox","id","bf_active_form",1,"custom-control-input"],["for","bf_active_form",1,"custom-control-label"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","btn-sm","text-bf"],["type","button",1,"btn","btn-bf","btn-sm"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h5",3),n._uU(4,"Edit Form"),n.qZA(),n.TgZ(5,"button",4),n.TgZ(6,"span",5),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",6),n.TgZ(9,"div",7),n.TgZ(10,"div",8),n.TgZ(11,"label",9),n._uU(12,"Name"),n.qZA(),n.qZA(),n.TgZ(13,"div",10),n._UZ(14,"input",11),n.qZA(),n.qZA(),n.TgZ(15,"div",7),n.TgZ(16,"div",8),n.TgZ(17,"label",12),n._uU(18,"Description"),n.qZA(),n.qZA(),n.TgZ(19,"div",10),n._UZ(20,"textarea",13),n.qZA(),n.qZA(),n.TgZ(21,"div",7),n.TgZ(22,"div",8),n.TgZ(23,"label",14),n._uU(24,"Folder"),n.qZA(),n.qZA(),n.TgZ(25,"div",10),n.TgZ(26,"select",15),n.TgZ(27,"option",16),n._uU(28,"Folder Name"),n.qZA(),n.TgZ(29,"option"),n._uU(30,"Folder Name"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",17),n.TgZ(32,"i",18),n._uU(33,"create_new_folder"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"div",7),n.TgZ(35,"div",8),n.TgZ(36,"label",19),n._uU(37,"Active"),n.qZA(),n.qZA(),n.TgZ(38,"div",10),n.TgZ(39,"div",20),n._UZ(40,"input",21),n._UZ(41,"label",22),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(42,"div",23),n.TgZ(43,"button",24),n._uU(44,"Cancel"),n.qZA(),n.TgZ(45,"button",25),n._uU(46,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA())},directives:[c.YN,c.Kr],styles:[""]}),e})(),u=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}close(e){this.activeModal.close(e)}archive(){this.activeModal.close("archive")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.Kz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-confirm-modal"]],inputs:{message:"message",modalName:"modalName"},decls:17,vars:3,consts:[["tabindex","-1","id","add-form-workflow-modal",1,""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"justify-content-center","align-content-center"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","btn-sm","text-bf",3,"click"],["type","button",1,"btn","btn-bf","btn-sm",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h5",3),n._uU(4),n.qZA(),n.TgZ(5,"button",4),n.NdJ("click",function(){return t.close("close")}),n.TgZ(6,"span",5),n._uU(7,"\xd7"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"div",6),n.ynx(9),n.TgZ(10,"div",7),n._uU(11),n.qZA(),n.BQk(),n.qZA(),n.TgZ(12,"div",8),n.TgZ(13,"button",9),n.NdJ("click",function(){return t.close("close")}),n._uU(14,"close"),n.qZA(),n.TgZ(15,"button",10),n.NdJ("click",function(){return t.archive()}),n._uU(16),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(t.modalName),n.xp6(7),n.hij(" ",t.message," "),n.xp6(5),n.Oqu(t.modalName))},styles:[""]}),e})();var Z=o(2595);function g(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"div",4),n.TgZ(3,"h5",5),n._uU(4,"Restrict Form Entries"),n.qZA(),n.TgZ(5,"button",6),n.NdJ("click",function(){return n.CHM(e),n.oxw().close("close")}),n._uU(6,"\xd7"),n.qZA(),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"button",10),n.NdJ("click",function(){n.CHM(e);const t=n.oxw();return t.addForm=!t.addForm}),n._uU(11," Add User "),n.qZA(),n.qZA(),n.TgZ(12,"div",11),n.TgZ(13,"table",12),n.TgZ(14,"thead",13),n.TgZ(15,"tr"),n.TgZ(16,"th",14),n._uU(17," User "),n.qZA(),n.TgZ(18,"th"),n._uU(19," View "),n.qZA(),n.TgZ(20,"th"),n._uU(21," Edit "),n.qZA(),n.TgZ(22,"th"),n._uU(23," Delete "),n.qZA(),n.TgZ(24,"th"),n._uU(25," Actions "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(26,"tbody"),n.TgZ(27,"tr"),n.TgZ(28,"td",14),n._uU(29,"john@doe.com"),n.qZA(),n.TgZ(30,"td"),n._UZ(31,"input",15),n._UZ(32,"label",16),n.qZA(),n.TgZ(33,"td"),n._UZ(34,"input",17),n._UZ(35,"label",18),n.qZA(),n.TgZ(36,"td"),n._UZ(37,"input",19),n._UZ(38,"label",20),n.qZA(),n.TgZ(39,"td"),n.TgZ(40,"i",21),n._uU(41,"edit"),n.qZA(),n.TgZ(42,"i",22),n._uU(43,"delete"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(44,"tr"),n.TgZ(45,"td",14),n._uU(46,"jane@doe.com"),n.qZA(),n.TgZ(47,"td"),n._UZ(48,"input",23),n._UZ(49,"label",24),n.qZA(),n.TgZ(50,"td"),n._UZ(51,"input",25),n._UZ(52,"label",26),n.qZA(),n.TgZ(53,"td"),n._UZ(54,"input",27),n._UZ(55,"label",28),n.qZA(),n.TgZ(56,"td"),n.TgZ(57,"i",21),n._uU(58,"edit"),n.qZA(),n.TgZ(59,"i",22),n._uU(60,"delete"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(61,"tr"),n.TgZ(62,"td",14),n._uU(63,"jane@doe.com"),n.qZA(),n.TgZ(64,"td"),n._UZ(65,"input",29),n._UZ(66,"label",30),n.qZA(),n.TgZ(67,"td"),n._UZ(68,"input",31),n._UZ(69,"label",32),n.qZA(),n.TgZ(70,"td"),n._UZ(71,"input",33),n._UZ(72,"label",34),n.qZA(),n.TgZ(73,"td"),n.TgZ(74,"i",21),n._uU(75,"edit"),n.qZA(),n.TgZ(76,"i",22),n._uU(77,"delete"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function p(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",35),n.TgZ(1,"div",3),n.TgZ(2,"div",4),n.TgZ(3,"h5",5),n._uU(4,"User Provide Form Permission's"),n.qZA(),n.TgZ(5,"button",36),n._uU(6,"\xd7"),n.qZA(),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"div",37),n.TgZ(9,"div",38),n.TgZ(10,"label",39),n._uU(11,"User Name"),n.qZA(),n.qZA(),n.TgZ(12,"div",40),n._UZ(13,"input",41),n.qZA(),n.qZA(),n.TgZ(14,"div",37),n.TgZ(15,"div",38),n.TgZ(16,"label",39),n._uU(17,"Permissions"),n.qZA(),n.qZA(),n.TgZ(18,"div",40),n.TgZ(19,"div",42),n.TgZ(20,"div",43),n.TgZ(21,"label",44),n._uU(22,"Vew"),n.qZA(),n._UZ(23,"input",45),n._UZ(24,"label",44),n.qZA(),n.TgZ(25,"div",43),n.TgZ(26,"label",46),n._uU(27,"Edit"),n.qZA(),n._UZ(28,"input",47),n._UZ(29,"label",46),n.qZA(),n.TgZ(30,"div",43),n._UZ(31,"input",48),n.TgZ(32,"label",49),n._uU(33,"Delete"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"div",50),n.TgZ(35,"button",51),n.NdJ("click",function(){return n.CHM(e),n.oxw().close("close")}),n._uU(36,"close"),n.qZA(),n.TgZ(37,"button",52),n.NdJ("click",function(){return n.CHM(e),n.oxw().save()}),n._uU(38,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}let f=(()=>{class e{constructor(e,t){this.http=e,this.activeModal=t,this.addForm=!1}ngOnInit(){var e;this.http.call("getRolePermissions","POST",{FormIds:null===(e=this.form)||void 0===e?void 0:e.value}).subscribe(e=>{console.log(e)})}close(e){this.activeModal.close(e)}save(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.O),n.Y36(l.Kz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-restrict-form-entries"]],inputs:{form:"form"},decls:2,vars:2,consts:[["class","","tabindex","-1","id","form-permissions-modal",4,"ngIf"],["class","","tabindex","-1","id","user-provide-form-permissions-modal",4,"ngIf"],["tabindex","-1","id","form-permissions-modal",1,""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","p-3"],[1,"col-md-12","text-right","mt-4","mb-3"],["type","button","data-dismiss","modal","data-toggle","modal","data-target","#user-provide-form-permissions-modal",1,"btn","btn-bf","btn-sm",3,"click"],[1,"col-md-12"],[1,"table","table-borderless","text-center","border"],[1,"thead-light"],[1,"text-left"],["type","checkbox","id","user-form-view"],["for","user-form-view"],["type","checkbox","id","user-form-edit"],["for","user-form-edit"],["type","checkbox","id","user-form-delete","checked",""],["for","user-form-delete"],[1,"material-icons","text-dark","mr-2"],[1,"material-icons","text-dark"],["type","checkbox","id","user-2-form-view"],["for","user-2-form-view"],["type","checkbox","id","user-2-form-edit"],["for","user-2-form-edit"],["type","checkbox","id","user-2-form-delete","checked",""],["for","user-2-form-delete"],["type","checkbox","id","user-3-form-view"],["for","user-3-form-view"],["type","checkbox","id","user-3-form-edit"],["for","user-3-form-edit"],["type","checkbox","id","user-3-form-delete","checked",""],["for","user-3-form-delete"],["tabindex","-1","id","user-provide-form-permissions-modal",1,""],["type","button","data-dismiss","modal",1,"close"],[1,"row","my-4","px-4","form-group"],[1,"col-md-3"],["for","form-name"],[1,"col-md-7"],["type","text","id","user-name",1,"form-control"],[1,"permissions-container","d-flex"],[1,"d-flex","align-items-center","mr-5"],["for","user-permission-view"],["type","checkbox","id","user-permission-view"],["for","user-permission-edit"],["type","checkbox","id","user-permission-edit"],["type","checkbox","id","user-permission-delete"],["for","user-permission-delete"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","btn-sm","text-bf",3,"click"],["type","button",1,"btn","btn-bf","btn-sm",3,"click"]],template:function(e,t){1&e&&(n.YNc(0,g,78,0,"div",0),n.YNc(1,p,39,0,"div",1)),2&e&&(n.Q6J("ngIf",!t.addForm),n.xp6(1),n.Q6J("ngIf",t.addForm))},directives:[i.O5],styles:[""]}),e})();var h=o(4972),b=o(1933),v=o(6627);function T(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"mat-tree-node",9),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).select(t)}),n._UZ(1,"button",10),n.TgZ(2,"span",11),n._uU(3,"folder"),n.qZA(),n.TgZ(4,"span",12),n._uU(5),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,o=n.oxw(2);n.Udp("display",0===o.searchedString.length||e.fullFolderPath.includes(null==o.searchedString?null:o.searchedString.toLowerCase())?"block":"none !important"),n.xp6(5),n.Oqu(e.text)}}function A(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"mat-tree-node",13),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).select(t)}),n.TgZ(1,"button",14),n.TgZ(2,"mat-icon",15),n._uU(3),n.qZA(),n.TgZ(4,"span",11),n._uU(5,"folder"),n.qZA(),n.qZA(),n.TgZ(6,"div",16),n.TgZ(7,"span",12),n._uU(8),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,o=n.oxw(2);n.Udp("display",0===o.searchedString.length||e.fullFolderPath.includes(null==o.searchedString?null:o.searchedString.toLowerCase())?"block":"none !important"),n.xp6(1),n.uIk("aria-label","Toggle "+e.text),n.xp6(2),n.hij(" ",o.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),n.xp6(5),n.Oqu(e.text)}}function q(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",3),n.TgZ(1,"div",4),n.TgZ(2,"input",5),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().searchedString=t})("keyup",function(t){return n.CHM(e),n.oxw().search(t)}),n.qZA(),n.qZA(),n.TgZ(3,"mat-tree",6),n.YNc(4,T,6,3,"mat-tree-node",7),n.YNc(5,A,9,5,"mat-tree-node",8),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(2),n.Q6J("ngModel",e.searchedString),n.xp6(1),n.Q6J("dataSource",e.dataSource)("treeControl",e.treeControl),n.xp6(2),n.Q6J("matTreeNodeDefWhen",e.hasChild)}}let x=(()=>{class e{constructor(){this.selectFolderEvent=new n.vpe,this.selected="Root",this.searchedString="",this.viewDropDown=!1,this.selectedFormId="",this._transformer=(e,t)=>({expandable:!!e.children&&e.children.length>0,text:e.text,level:t,fullFolderPath:e.fullFolderPath,value:e.value}),this.treeControl=new h.C2(e=>e.level,e=>e.expandable),this.treeFlattener=new b.JZ(this._transformer,e=>e.level,e=>e.expandable,e=>e.children),this.dataSource=new b.kc(this.treeControl,this.treeFlattener),this.hasChild=(e,t)=>t.expandable}search(e){var t;(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value.length)>0?this.treeControl.expandAll():this.treeControl.collapseAll()}ExtractChild(e,t){t.forEach(t=>{t.fullFolderPath="",t.fullFolderPath+="/"+t.text.toLowerCase(),e.forEach(e=>{e.fullFolderPath+="/"+t.text.toLowerCase()});const o=[];o.push(...e),o.push(t),this.currentFormId===(null==t?void 0:t.value)&&(this.selected=t.text),t.children&&this.ExtractChild(o,t.children)})}select(e){console.log(e),this.selectedFormId=e.value,this.selected=e.text,this.treeControl.collapseAll(),this.viewDropDown=!1,this.selectFolderEvent.emit(e.value)}ngOnInit(){const e=[{text:"Root",main:!0,children:this.data}];null==e||e.forEach(e=>{var t;e.fullFolderPath="",this.currentFormId===(null==e?void 0:e.value)&&(this.selected=e.text),e.fullFolderPath+="/"+(null===(t=null==e?void 0:e.text)||void 0===t?void 0:t.toLowerCase());const o=[];o.push(e),e.children&&this.ExtractChild(o,e.children)}),console.log(e),this.dataSource.data=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-t-select"]],inputs:{data:"data",currentFormId:"currentFormId"},outputs:{selectFolderEvent:"selectFolderEvent"},decls:5,vars:2,consts:[[1,"folder-tree-selector","form-control","pt-2",3,"click"],[1,"material-icons","float-right"],["class","folder-tree-wrap filter-dropdown bg-white rounded shadow",4,"ngIf"],[1,"folder-tree-wrap","filter-dropdown","bg-white","rounded","shadow"],[1,"p-3"],["id","folder-search",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"folder-tree-node","overflow-auto","py-2",3,"dataSource","treeControl"],["matTreeNodePadding","","class","cdk-tree-node  d-flex mat-tree-node ng-star-inserted ",3,"display","click",4,"matTreeNodeDef"],["matTreeNodePadding","","class","d-flex",3,"display","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"cdk-tree-node","d-flex","mat-tree-node","ng-star-inserted",3,"click"],["mat-icon-button","","disabled","",1,"mat-focus-indicator","mat-icon-button","mat-button-base","mat-button-disabled"],[1,"material-icons-outlined"],[2,"cursor","pointer"],["matTreeNodePadding","",1,"d-flex",3,"click"],["mat-icon-button","","matTreeNodeToggle","",1,"mat-focus-indicator","mat-icon-button","mat-button-base"],[1,"mat-icon-rtl-mirror"],[1,"folder-name"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return t.viewDropDown=!t.viewDropDown}),n._uU(1),n.TgZ(2,"span",1),n._uU(3," arrow_drop_down "),n.qZA(),n.qZA(),n.YNc(4,q,6,4,"div",2)),2&e&&(n.xp6(1),n.Oqu(t.selected),n.xp6(3),n.Q6J("ngIf",t.viewDropDown))},directives:[i.O5,c.Fj,c.JJ,c.On,b.gi,b.fQ,b.uo,b.ah,b.eu,v.Hw],styles:[".mat-tree-node[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:20px}.folder-tree-wrap[_ngcontent-%COMP%] > .folder-tree-node[_ngcontent-%COMP%]{max-height:130px}.mat-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:initial;text-align:center;margin:0;overflow:visible}mat-tree-node[_ngcontent-%COMP%]:hover{color:#f04564}.mat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{color:inherit;background:#0000}.mat-button-focus-overlay[_ngcontent-%COMP%], .mat-button-ripple.mat-ripple[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}"]}),e})(),w=(()=>{class e{constructor(e,t){this.http=e,this.activeModal=t}ngOnInit(){}selectFolderEventHandler(e){this.id=e}save(){this.http.call("moveFolder","POST",{FolderID:this.id,Id:this.form.value}).subscribe(e=>{console.log(e),this.close()})}close(){this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.O),n.Y36(l.Kz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-move-modal"]],inputs:{folderList:"folderList",form:"form"},decls:19,vars:2,consts:[["tabindex","-1","id","copy-form-workflow-modal"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","my-4","px-4","form-group"],[1,"col-md-3"],["for","form-name"],[1,"col-md-7"],[3,"data","currentFormId","selectFolderEvent"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","btn-sm","text-bf",3,"click"],["type","button",1,"btn","btn-bf","btn-sm",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h5",3),n._uU(4,"Move "),n.qZA(),n.TgZ(5,"button",4),n.NdJ("click",function(){return t.close()}),n._uU(6,"\xd7"),n.qZA(),n.qZA(),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n.TgZ(9,"div",7),n.TgZ(10,"label",8),n._uU(11,"User Name"),n.qZA(),n.qZA(),n.TgZ(12,"div",9),n.TgZ(13,"app-t-select",10),n.NdJ("selectFolderEvent",function(e){return t.selectFolderEventHandler(e)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",11),n.TgZ(15,"button",12),n.NdJ("click",function(){return t.close()}),n._uU(16,"Cancel"),n.qZA(),n.TgZ(17,"button",13),n.NdJ("click",function(){return t.save()}),n._uU(18,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(13),n.Q6J("data",t.folderList)("currentFormId",null==t.form?null:t.form.folderId))},directives:[x],styles:[""]}),e})();function _(e,t){1&e&&n._UZ(0,"option",18),2&e&&n.Q6J("value",t.$implicit.name)}function U(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",19),n.TgZ(1,"label",20),n._uU(2),n.qZA(),n.TgZ(3,"input",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().onCheckboxChange(t)}),n.qZA(),n._UZ(4,"label",20),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(1),n.MGl("for","user-permission-",e.short,""),n.xp6(1),n.Oqu(e.name),n.xp6(1),n.s9C("value",e.value),n.MGl("id","user-permission-",e.short,""),n.xp6(1),n.MGl("for","user-permission-",e.short,"")}}let k=(()=>{class e{constructor(e,t,o,i){this.http=e,this.fb=t,this.modalService=o,this.activeModal=i,this.userPermissions=[{name:"View",value:3,short:"view"},{name:"Edit",value:1,short:"edit"},{name:"Delete",value:2,short:"delete"}],this.addPermissionForm=this.fb.group({email:["",c.kI.required],permission:this.fb.array([])})}ngOnInit(){this.http.call("getFormUserRoleWorkSpaces","POST",{FormId:this.formId,WorkSpaceId:this.workSpaceId}).subscribe(e=>{this.userRolesData=e;let t=[];e.data.forEach(function(o,i){e.data.length>1&&0==i||t.push({id:i+1,name:`${o.firstName} ${o.lastName} (${o.email})`})}),this.userListData=t})}onCheckboxChange(e){const t=this.addPermissionForm.get("permission");if(e.target.checked)t.push(new c.NI(e.target.value));else{let o=0;t.controls.forEach(i=>{i.value!=e.target.value?o++:t.removeAt(o)})}}submit(){let e=this.addPermissionForm.value.email.split("(");e=e[1].replace(")","");const t=e,o=this.addPermissionForm.value.permission;let i;this.userRolesData.data.forEach(e=>{e.email!==t||(i=e.id)});let r={FormId:this.formId,Id:null,Permissions:o.toString(),UserEmail:t,UserId:i,UserName:null};this.http.call("saveRolePermission","POST",r).subscribe(e=>{this.closeAddModal()})}closeAddModal(){this.activeModal.close(!0);const e=this.modalService.open(M,{size:"lg"});e.componentInstance.formId=this.formId,e.componentInstance.modalType="permission",e.componentInstance.workSpaceId=this.workSpaceId,e.result.then(e=>{},e=>{console.log("Dismissed ")})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.O),n.Y36(c.qu),n.Y36(l.FF),n.Y36(l.Kz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-add-user-permission-modal"]],inputs:{formId:"formId",modalType:"modalType",workSpaceId:"workSpaceId"},decls:28,vars:4,consts:[[1,"modal-content"],[3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","my-4","px-4","form-group"],[1,"col-md-3"],["for","form-name"],[1,"col-md-7"],["list","emails","name","email","id","email","formControlName","email","autocomplete","off"],["id","emails"],[3,"value",4,"ngFor","ngForOf"],[1,"permissions-container","d-flex"],["class","d-flex align-items-center mr-5",4,"ngFor","ngForOf"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","btn-sm","text-bf",3,"disabled","click"],["type","button",1,"btn","btn-bf","btn-sm",3,"click"],[3,"value"],[1,"d-flex","align-items-center","mr-5"],[3,"for"],["type","checkbox",3,"value","id","change"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n.TgZ(2,"div",2),n.TgZ(3,"h5",3),n._uU(4,"User Provide Form Permission's"),n.qZA(),n.TgZ(5,"button",4),n.NdJ("click",function(){return t.closeAddModal()}),n._uU(6,"\xd7"),n.qZA(),n.qZA(),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n.TgZ(9,"div",7),n.TgZ(10,"label",8),n._uU(11,"User Name"),n.qZA(),n.qZA(),n.TgZ(12,"div",9),n._UZ(13,"input",10),n.TgZ(14,"datalist",11),n.YNc(15,_,1,1,"option",12),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",6),n.TgZ(17,"div",7),n.TgZ(18,"label",8),n._uU(19,"Permissions"),n.qZA(),n.qZA(),n.TgZ(20,"div",9),n.TgZ(21,"div",13),n.YNc(22,U,5,5,"div",14),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",15),n.TgZ(24,"button",16),n.NdJ("click",function(){return t.closeAddModal()}),n._uU(25,"Cancel"),n.qZA(),n.TgZ(26,"button",17),n.NdJ("click",function(){return t.submit()}),n._uU(27,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("formGroup",t.addPermissionForm),n.xp6(14),n.Q6J("ngForOf",t.userListData),n.xp6(7),n.Q6J("ngForOf",t.userPermissions),n.xp6(2),n.Q6J("disabled",t.addPermissionForm.invalid))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,i.sg,c.YN,c.Kr],styles:[""]}),e})();function C(e,t){1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td",14),n._uU(2,"No user data found"),n.qZA(),n.qZA())}function y(e,t){if(1&e&&(n.TgZ(0,"td",11),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(1),n.Oqu(e.userEmail)}}function F(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.TgZ(1,"input",16),n.NdJ("change",function(t){n.CHM(e);const o=n.oxw().$implicit;return n.oxw().onCheckboxChange(t,o)}),n.qZA(),n._UZ(2,"label",17),n.qZA()}if(2&e){const e=t.$implicit,o=n.oxw().$implicit,i=n.oxw();n.xp6(1),n.MGl("id","user-form-",e.short,""),n.s9C("value",e.value),n.Q6J("checked",o.permissions.indexOf(e.value)>-1||null)("disabled",!i.isEditMode),n.xp6(1),n.MGl("for","user-form-",e.short,"")}}function I(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span",19),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2).$implicit;return n.oxw().editFormUser(t)}),n.TgZ(1,"i",21),n._uU(2,"edit"),n.qZA(),n.qZA()}}function L(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span",19),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2).$implicit;return n.oxw().updateFormUser(t)}),n.TgZ(1,"i",21),n._uU(2,"update"),n.qZA(),n.qZA()}}function N(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"td"),n.YNc(1,I,3,0,"span",18),n.YNc(2,L,3,0,"span",18),n.TgZ(3,"span",19),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw().deleteFormUser(t)}),n.TgZ(4,"i",20),n._uU(5,"delete"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!e.isEditMode),n.xp6(1),n.Q6J("ngIf",e.isEditMode)}}function P(e,t){if(1&e&&(n.TgZ(0,"tr"),n.YNc(1,y,2,1,"td",15),n.YNc(2,F,3,5,"td",13),n.YNc(3,N,6,2,"td",12),n.qZA()),2&e){const e=t.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",e),n.xp6(1),n.Q6J("ngForOf",o.userPermissions),n.xp6(1),n.Q6J("ngIf",e)}}let M=(()=>{class e{constructor(e,t,o){this.http=e,this.modalService=t,this.activeModal=o,this.isEditMode=!1,this.assignedUserPermission=[],this.assignedPer=[],this.userPermissions=[{name:"View",value:3,short:"view"},{name:"Edit",value:1,short:"edit"},{name:"Delete",value:2,short:"delete"}]}ngOnInit(){this.http.call("getRolePermission","POST",{FormId:this.formId}).subscribe(e=>{console.log(e),this.userLists=e,e.forEach(e=>{this.assignedUserPermission.push({id:e.id,permissions:e.permissions})})})}openAddUserPermissionModal(){this.activeModal.close(!0);const e=this.modalService.open(k,{size:"lg"});e.componentInstance.modalType="add_permission",e.componentInstance.formId=this.formId,e.componentInstance.workSpaceId=this.workSpaceId,e.result.then(e=>{},e=>{console.log("Dismissed ")})}deleteFormUser(e){confirm("Are you sure you want to delete the user?")&&this.http.call("deleteRolePermission","POST",{FormId:e.formId,Id:e.id,Permissions:e.permissions,UserId:e.userId}).subscribe(t=>{this.userLists.forEach((t,o)=>{t.id===e.id&&delete this.userLists[o]})})}editFormUser(e){this.isEditMode=!0}updateFormUser(e){let t;console.log(this.assignedUserPermission),this.assignedUserPermission.forEach(o=>{o.id==e.id&&(t=o.permissions)}),this.http.call("saveRolePermission","POST",{FormId:e.formId,Id:e.id,Permissions:t,UserId:e.userId,UserEmail:e.userEmail,UserName:e.userName}).subscribe(e=>{this.userLists.forEach((t,o)=>{t.id===e.id&&(this.userLists[o]=e,this.isEditMode=!1)})})}onCheckboxChange(e,t){if(this.assignedPer=[],this.assignedUserPermission.forEach((e,o)=>{if(e.id==t.id){this.assignedidx=o;let t=e.permissions.split(",");this.assignedPer=t}}),e.target.checked)this.assignedPer.push(e.target.value);else{let t=0;this.assignedPer.forEach(o=>{o!=e.target.value?t++:this.assignedPer.splice(t,1)})}this.assignedUserPermission[this.assignedidx].permissions=this.assignedPer.join(",")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.O),n.Y36(l.FF),n.Y36(l.Kz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-permission-modal"]],inputs:{formId:"formId",modalType:"modalType",workSpaceId:"workSpaceId"},decls:28,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row","p-3"],[1,"col-md-12","text-right","mt-4","mb-3"],["type","button","data-dismiss","modal","data-toggle","modal","data-target","#user-provide-form-permissions-modal",1,"btn","btn-bf","btn-sm",3,"click"],[1,"col-md-12"],[1,"table","table-borderless","text-center","border"],[1,"thead-light"],[1,"text-left"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","5"],["class","text-left",4,"ngIf"],["type","checkbox",3,"id","checked","disabled","value","change"],[3,"for"],[3,"click",4,"ngIf"],[3,"click"],[1,"material-icons","text-dark"],[1,"material-icons","text-dark","mr-2"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h5",2),n._uU(3,"Restrict Form Entries"),n.qZA(),n.TgZ(4,"button",3),n._uU(5,"\xd7"),n.qZA(),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n.TgZ(9,"button",7),n.NdJ("click",function(){return t.openAddUserPermissionModal()}),n._uU(10," Add User "),n.qZA(),n.qZA(),n.TgZ(11,"div",8),n.TgZ(12,"table",9),n.TgZ(13,"thead",10),n.TgZ(14,"tr"),n.TgZ(15,"th",11),n._uU(16,"User"),n.qZA(),n.TgZ(17,"th"),n._uU(18,"View"),n.qZA(),n.TgZ(19,"th"),n._uU(20,"Edit"),n.qZA(),n.TgZ(21,"th"),n._uU(22,"Delete"),n.qZA(),n.TgZ(23,"th"),n._uU(24,"Actions"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"tbody"),n.YNc(26,C,3,0,"tr",12),n.YNc(27,P,4,3,"tr",13),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(26),n.Q6J("ngIf",!t.userLists),n.xp6(1),n.Q6J("ngForOf",t.userLists))},directives:[i.O5,i.sg],styles:[""]}),e})();var O=o(3065);let S=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-forms-header"]],decls:23,vars:0,consts:[[1,"header-container","container-fluid"],[1,"header-wrapper","row","px-3","border-bottom","d-flex","flex-nowrap","align-items-center","justify-content-between"],[1,"logo-wrapper","col","py-3"],[1,"colored-logo"],["src","assets/images/logo.png","height","41"],[1,"nav-area","col","d-flex","flex-nowrap","align-items-center","justify-content-end"],[1,"nav","mr-5"],[1,"nav-item","active","p-4"],[1,"nav-item","p-4"],[1,"org-switch-wrapper","mx-4","bg-light"],[1,"org-switch-wrapper","border","rounded","py-2","pl-3"],[1,"org-name","mr-3"],[1,"material-icons","pr-2"],[1,"lang-switcher-wrapper","mr-4"],[1,"material-icons"],[1,"account-image-wrapper"],[1,"account-image"],["src","assets/images/user.jpg","height","35",1,"rounded-circle"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._UZ(4,"img",4),n.qZA(),n.qZA(),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n._uU(8," Forms "),n.qZA(),n.TgZ(9,"div",8),n._uU(10," Organizations "),n.qZA(),n.qZA(),n.TgZ(11,"div",9),n.TgZ(12,"div",10),n.TgZ(13,"span",11),n._uU(14,"Company Name"),n.qZA(),n.TgZ(15,"i",12),n._uU(16,"expand_more"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"div",13),n.TgZ(18,"i",14),n._uU(19,"language"),n.qZA(),n.qZA(),n.TgZ(20,"div",15),n.TgZ(21,"div",16),n._UZ(22,"img",17),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA())},styles:[""]}),e})(),E=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-forms-footer"]],decls:12,vars:0,consts:[[1,"footer-container","container-fluid"],[1,"footer-wrapper","row","p-3","bg-dark","border-top","border-5","border-bf"],[1,"footer-copyright-wrapper","text-center","col"],[1,"monochrome-logo-wrapper","mr-2"],["width","20px","height","100%","viewBox","0 0 152 185","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xml","space","preserve",0,"xmlns","serif","http://www.serif.com/",1,"monochrome-logo",2,"fill-rule","evenodd","clip-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2"],["transform","matrix(0.429851,0,0,0.429851,-95.0387,-38.8813)"],["transform","matrix(8.79,0,0,8.79,-953.066,-846.569)"],["d","M146.699,151.251C146.666,151.275 146.631,151.296 146.596,151.315L140.138,155.27C140.112,155.286 140.084,155.303 140.057,155.316L140.036,155.327C139.884,155.399 139.712,155.431 139.534,155.409C139.405,155.395 139.287,155.354 139.183,155.293L139.169,155.285L139.164,155.281L139.126,155.257L139.113,155.249L139.108,155.245L139.096,155.235L139.078,155.223L139.072,155.218L139.061,155.208L139.044,155.194L139.038,155.188L139.028,155.179L139.021,155.174L139.005,155.159L138.995,155.148L138.989,155.142L138.98,155.134L138.951,155.101L138.943,155.091L138.937,155.085L138.928,155.073L138.922,155.066L138.914,155.056L138.91,155.05C138.878,155.009 138.851,154.964 138.827,154.917L138.818,154.9L138.817,154.896C138.745,154.745 138.712,154.571 138.734,154.394L139.631,146.847C139.634,146.811 139.638,146.773 139.644,146.739L140.997,135.363C141.014,135.222 141.063,135.092 141.134,134.979L141.133,134.978L142.637,132.632L144.365,129.935C144.637,129.508 145.204,129.383 145.63,129.655C146.057,129.928 146.181,130.495 145.909,130.921L144.181,133.618C143.903,134.052 143.827,134.559 143.929,135.028L143.931,135.027C144.033,135.496 144.313,135.926 144.745,136.204C145.178,136.48 145.686,136.556 146.154,136.456L146.154,136.454C146.622,136.351 147.05,136.072 147.326,135.644L147.328,135.642L147.33,135.639L149.058,132.941C149.331,132.515 149.897,132.39 150.324,132.663C150.75,132.935 150.875,133.502 150.601,133.928L148.9,136.583L148.899,136.586L148.897,136.588C148.883,136.614 148.868,136.638 148.851,136.662C148.592,137.086 148.523,137.58 148.622,138.034L148.624,138.034C148.724,138.49 148.992,138.91 149.404,139.188C149.428,139.202 149.451,139.217 149.474,139.232C149.899,139.492 150.392,139.56 150.847,139.462L150.846,139.46C151.309,139.358 151.733,139.085 152.01,138.664L152.021,138.649L152.022,138.646L153.751,135.947C154.023,135.521 154.589,135.397 155.016,135.669C155.442,135.941 155.567,136.508 155.294,136.934L153.593,139.59L153.592,139.592L153.59,139.595C153.576,139.62 153.56,139.645 153.544,139.668C153.285,140.095 153.215,140.588 153.315,141.044C153.415,141.498 153.683,141.917 154.096,142.194C154.122,142.208 154.144,142.224 154.167,142.239C154.592,142.499 155.084,142.566 155.54,142.467L155.588,142.458C156.037,142.348 156.447,142.072 156.715,141.652L156.715,141.653L158.445,138.954C158.716,138.528 159.283,138.403 159.709,138.676C160.135,138.948 160.26,139.515 159.989,139.941L158.266,142.629L158.26,142.639L156.756,144.986L156.754,144.985C156.682,145.099 156.583,145.198 156.46,145.272L146.699,151.251ZM154.552,144.296C154.066,144.22 153.586,144.043 153.148,143.763L153.144,143.761C152.288,143.211 151.732,142.359 151.529,141.43C151.511,141.35 151.496,141.269 151.484,141.188C151.403,141.21 151.323,141.231 151.241,141.249L151.241,141.247L151.238,141.248C150.312,141.45 149.309,141.302 148.454,140.756L148.451,140.753C147.593,140.204 147.038,139.354 146.834,138.428L146.837,138.427L146.836,138.424C146.819,138.343 146.803,138.262 146.791,138.18C146.71,138.204 146.629,138.224 146.547,138.242L146.547,138.24L146.544,138.241C145.618,138.443 144.614,138.295 143.759,137.747C143.317,137.464 142.956,137.103 142.682,136.691L141.521,146.438L146.181,149.424L154.552,144.296Z",2,"fill","rgb(108,117,125)"],["d","M156.693,112.159C160.838,108.452 163.61,112.814 166.131,108.134C161.973,110.229 158.391,105.077 156.693,112.159ZM160.574,135.919L147.338,127.44C147.338,127.44 146.828,122.337 148.677,119.181C150.527,116.023 152.395,115.614 152.395,115.614C152.395,115.614 151.437,117.042 151.367,118.169C151.295,119.295 151.644,120.04 151.644,120.04C151.644,120.04 152.5,115.247 158.257,113.987C163.25,112.893 170.175,113.301 169.965,106.601C173.638,114.49 171.597,126.759 164.808,130.204C166.163,129.998 168.181,129.844 168.991,127.593C168.517,131.784 165.42,135.667 160.574,135.919Z",2,"fill","rgb(108,117,125)"],["d","M397.524,135.646C300.086,135.646 221.097,214.635 221.097,312.073C221.097,409.446 300.151,488.5 397.524,488.5C494.896,488.5 573.951,409.446 573.951,312.073C573.951,291.221 570.254,270.534 563.032,250.972L550.284,255.678C556.95,273.733 560.361,292.827 560.361,312.073C560.361,401.945 487.396,474.911 397.524,474.911C307.651,474.911 234.686,401.945 234.686,312.073C234.686,222.14 307.591,149.235 397.524,149.235L397.524,135.646Z",2,"fill","rgb(108,117,125)"],[1,"footer-copyright-text","text-muted"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"span",3),n.O4$(),n.TgZ(4,"svg",4),n.TgZ(5,"g",5),n.TgZ(6,"g",6),n._UZ(7,"path",7),n._UZ(8,"path",8),n.qZA(),n._UZ(9,"path",9),n.qZA(),n.qZA(),n.qZA(),n.kcU(),n.TgZ(10,"span",10),n._uU(11," Blazeforms \xa9 2021 Metagauss, Inc. "),n.qZA(),n.qZA(),n.qZA(),n.qZA())},styles:[""]}),e})();function J(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",20),n.TgZ(1,"div",21),n.TgZ(2,"label",22),n._UZ(3,"input",23),n.TgZ(4,"span",24),n.TgZ(5,"i",25),n._uU(6,"check_box_outline_blank"),n.qZA(),n.TgZ(7,"i",26),n._uU(8,"check_box"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"i",27),n._uU(10,"star_outline"),n.qZA(),n.qZA(),n.TgZ(11,"div",28),n.TgZ(12,"span",29),n._uU(13),n.qZA(),n.qZA(),n.TgZ(14,"div",30),n.TgZ(15,"span",31),n._uU(16,"Build"),n.qZA(),n.TgZ(17,"span",32),n._uU(18,"Publish"),n.qZA(),n.TgZ(19,"span",33),n.TgZ(20,"span",34),n._uU(21,"Entries"),n.qZA(),n.TgZ(22,"span",35),n._uU(23,"25"),n.qZA(),n.qZA(),n.TgZ(24,"span",36),n._uU(25,"URL"),n.qZA(),n.qZA(),n.TgZ(26,"div",37),n.TgZ(27,"i",38),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).openModal(t.value)}),n._uU(28,"people"),n.qZA(),n.TgZ(29,"i",38),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).move(t)}),n._uU(30,"drive_file_move"),n.qZA(),n.TgZ(31,"i",38),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).archive(t)}),n._uU(32,"archive"),n.qZA(),n.TgZ(33,"i",39),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).openEdit("form")}),n._uU(34,"edit"),n.qZA(),n.TgZ(35,"i",40),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).deleteForm(t)}),n._uU(36,"delete"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(13),n.Oqu(e.text)}}function D(e,t){if(1&e&&(n.ynx(0),n.YNc(1,J,37,1,"div",19),n.BQk()),2&e){const e=t.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",0===o.searchedString.length||(null==e||null==e.text?null:e.text.toLowerCase().includes(null==o.searchedString?null:o.searchedString.toLowerCase())))}}function Y(e,t){if(1&e&&(n.ynx(0),n.TgZ(1,"div",13),n.TgZ(2,"div",14),n.TgZ(3,"span",15),n.TgZ(4,"i",16),n._uU(5,"folder"),n.qZA(),n.qZA(),n.TgZ(6,"span",17),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"div",18),n.YNc(9,D,2,1,"ng-container",12),n.qZA(),n.qZA(),n.BQk()),2&e){const e=t.$implicit,o=n.oxw();let i;n.xp6(1),n.Udp("display",0===o.searchedString.length||null!=e.childNameList&&null!=(i=e.childNameList.toLowerCase())&&i.includes(null==o.searchedString?null:o.searchedString.toLowerCase())?"block":"none"),n.xp6(6),n.hij(" ",e.folderPath," "),n.xp6(2),n.Q6J("ngForOf",null==e?null:e.forms)}}const Q=[{path:"",component:(()=>{class e{constructor(e,t,o){this.http=e,this.store=t,this.modalService=o,this.searchedString="",this.pageDetail={pageNumber:1,pageSize:14},this.selectedForms=[],this.searchedFormKeyword="",this.FilterAttribute="null",this.userInfoSubscription$=this.store.select(s.S8).subscribe(e=>{this.userInfo=e,this.getFormsList(e)})}getFormsList(e){const t=Object.assign({FilterAttribute:this.FilterAttribute,SearchKeyword:this.searchedFormKeyword,UserId:e.Id,WorkSpaceId:e.WorkspaceDetail.Id},this.pageDetail);this.http.call("GetFoldersListWithForms","POST",t).subscribe(e=>{const t=[];console.log(e),this.getfolderNameWithForms(e,t),this.formsList=t,console.log(this.formsList)}),this.http.call("getAllActiveForms","POST",{UserId:e.Id,WorkSpaceId:e.WorkspaceDetail.Id}).subscribe(e=>{this.allForms=e}),this.http.call("getFolders","POST",{WorkSpaceId:e.WorkspaceDetail.Id}).subscribe(e=>{this.folderList=e})}getfolderNameWithForms(e,t){e.forEach(e=>{var o;(null===(o=null==e?void 0:e.childrenForms)||void 0===o?void 0:o.length)>0&&t.push({folderPath:e.folderPath,text:e.text,forms:e.childrenForms.map(t=>(t.folderId=e.value,t)),childNameList:function(){let t=e.text;return null==e||e.childrenForms.forEach(e=>{t+="/"+e.text}),t}()}),(null==e?void 0:e.childrenFolders)&&this.getfolderNameWithForms(null==e?void 0:e.childrenFolders,t)})}ngOnInit(){}open(){const e=this.modalService.open(a,{size:"lg"});e.componentInstance.formsList=this.allForms,e.result.then(e=>{"close"!==e&&this.openEdit(e)},e=>{console.log("Dismissed ")})}openEdit(e){const t=this.modalService.open(m,{size:"lg"});t.componentInstance.folderList=this.folderList,t.componentInstance.type=e,t.componentInstance.modalType="add",t.result.then(e=>{console.log(`Closed with: ${e}`)},e=>{console.log("Dismissed ")})}openPermissions(e){console.log("openPermissions",e);const t=this.modalService.open(f,{size:"lg"});t.componentInstance.form=e,t.result.then(e=>{},e=>{console.log("Dismissed ")})}move(e){console.log("move",e,this.folderList);const t=this.modalService.open(w,{size:"lg"});t.componentInstance.folderList=this.folderList,t.componentInstance.form=e,t.result.then(e=>{},e=>{console.log("Dismissed ")})}archive(e){console.log("archive",e);const t=this.modalService.open(u,{size:"lg"});t.componentInstance.message=`Are you sure you want to archive ${e.text} forms`,t.componentInstance.modalName="Archive",t.result.then(t=>{"close"!==t&&this.http.call("archive","POST",{Action:"Archive",FormIds:e.value}).subscribe(e=>{console.log(e)})},e=>{console.log("Dismissed ")})}deleteForm(e){console.log("delete",e);const t=this.modalService.open(u,{size:"lg"});t.componentInstance.message=`Are you sure you want to delete ${e.text} forms`,t.componentInstance.modalName="Delete",t.result.then(t=>{"close"!==t&&this.http.call("archive","POST",{Action:"Delete",FormIds:e.value}).subscribe(e=>{this.getFormsList(this.userInfo)})},e=>{console.log("Dismissed ")})}openModal(e){const t=this.modalService.open(M,{size:"lg"});t.componentInstance.formId=e,t.componentInstance.modalType="permission",t.componentInstance.workSpaceId=this.userInfo.WorkspaceDetail.Id,t.result.then(e=>{},e=>{console.log("Dismissed ")})}ngOnDestroy(){this.userInfoSubscription$.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.O),n.Y36(O.yh),n.Y36(l.FF))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-forms"]],decls:24,vars:3,consts:[[1,"hero-banner","container-fluid","py-4","bg-light","mb-4","border-bottom"],[1,"container","py-4"],[1,"forms-container","container"],[1,"search-wrapper"],[1,"form-group","has-search","mb-5"],["type","text","placeholder","Search Forms",1,"form-control",3,"ngModel","ngModelChange"],[1,"forms-controls-wrapper","d-flex","flex-wrap","justify-content-between","mb-5"],[1,"add-form-wrapper"],["type","button","id","add-form",1,"btn","btn-bf","btn-sm",3,"disabled","click"],[1,"forms-filters-wrapper"],[1,"material-icons","mr-3"],[1,"material-icons"],[4,"ngFor","ngForOf"],[1,"forms-folder-wrapper","row","mb-5"],[1,"folder-header","col-md-12","mb-2"],[1,"folder-icon","me-2"],[1,"material-icons-outlined"],[1,"folder-name"],[1,"forms-list","col-md-12","border","rounded"],["class","form-list-item row p-3 border-bottom",4,"ngIf"],[1,"form-list-item","row","p-3","border-bottom"],[1,"form-checkbox-wrapper","col-md-1"],[1,"p-0","m-0","align-bottom"],["type","checkbox"],[1,"form-checkbox-wrap"],[1,"form-checkbox-deactive","material-icons-round","mr-1","text-dark"],[1,"form-checkbox-active","material-icons-round","mr-1"],[1,"material-icons-round"],[1,"form-title-wrapper","col-md-4"],["clss","form-name"],[1,"form-badges-wrapper","col-md-4"],[1,"build-badge","px-2","py-1","mr-1","rounded-pill","small","border","border-2"],[1,"publish-badge","px-2","py-1","mr-1","rounded-pill","small","border","border-2"],[1,"entries-badge","py-1","mr-1","rounded-pill","small","border","border-2"],[1,"pl-2","pr-1"],[1,"pl-2","pr-1","font-weight-bold","text-bf"],[1,"url-badge","px-2","py-1","rounded-pill","small","border","border-2"],[1,"form-actions-wrapper","col-md-3","d-flex","d-wrap","justify-content-end"],[1,"material-icons-round","mr-3","text-dark",3,"click"],["data-bs-toggle","modal","data-bs-target","#edit-form-modal",1,"material-icons-round","mr-3","text-dark",3,"click"],[1,"material-icons-round","text-dark",3,"click"]],template:function(e,t){1&e&&(n._UZ(0,"app-forms-header"),n.TgZ(1,"div",0),n.TgZ(2,"div",1),n.TgZ(3,"h2"),n._uU(4,"Forms"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"div",2),n.TgZ(6,"div",3),n.TgZ(7,"div",4),n.TgZ(8,"input",5),n.NdJ("ngModelChange",function(e){return t.searchedString=e}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",6),n.TgZ(10,"div",7),n.TgZ(11,"button",8),n.NdJ("click",function(){return t.open()}),n._uU(12," Add Form "),n.qZA(),n.qZA(),n.TgZ(13,"div",9),n.TgZ(14,"i",10),n._uU(15,"delete"),n.qZA(),n.TgZ(16,"i",10),n._uU(17,"archive"),n.qZA(),n.TgZ(18,"i",10),n._uU(19,"drive_file_move"),n.qZA(),n.TgZ(20,"i",11),n._uU(21,"filter_alt"),n.qZA(),n.qZA(),n.qZA(),n.YNc(22,Y,10,4,"ng-container",12),n.qZA(),n._UZ(23,"app-forms-footer")),2&e&&(n.xp6(8),n.Q6J("ngModel",t.searchedString),n.xp6(3),n.Q6J("disabled",!0),n.xp6(11),n.Q6J("ngForOf",t.formsList))},directives:[S,c.Fj,c.JJ,c.On,i.sg,E,i.O5],styles:[".disabled[_ngcontent-%COMP%]{opacity:.65}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.Bz.forChild(Q)],r.Bz]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.ez,$,l.IJ,c.u5,b.dp,v.Ps,c.UX]]}),e})()}}]);